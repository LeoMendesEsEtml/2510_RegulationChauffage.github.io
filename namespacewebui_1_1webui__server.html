<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="fr">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>2510_RegulationChauffage: Référence de l&#39;espace de nommage webui.webui_server</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">2510_RegulationChauffage
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Généré par Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Recherche',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('namespacewebui_1_1webui__server.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Chargement...</div>
<div class="SRStatus" id="Searching">Recherche...</div>
<div class="SRStatus" id="NoMatches">Aucune correspondance</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">Référence de l'espace de nommage webui.webui_server</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Fonctions</h2></td></tr>
<tr class="memitem:ab49b8a0bc3425c50079480de48990dcc" id="r_ab49b8a0bc3425c50079480de48990dcc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab49b8a0bc3425c50079480de48990dcc">serve_index</a> ()</td></tr>
<tr class="memdesc:ab49b8a0bc3425c50079480de48990dcc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sert la page principale de l'interface web.  <br /></td></tr>
<tr class="memitem:a4c0c0ae9a45c748c0089996cf34a199e" id="r_a4c0c0ae9a45c748c0089996cf34a199e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4c0c0ae9a45c748c0089996cf34a199e">get_config</a> ()</td></tr>
<tr class="memdesc:a4c0c0ae9a45c748c0089996cf34a199e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Récupère la configuration actuelle des capteurs.  <br /></td></tr>
<tr class="memitem:a5e3c84f0b6e1334a0fb7d3375965e0f6" id="r_a5e3c84f0b6e1334a0fb7d3375965e0f6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5e3c84f0b6e1334a0fb7d3375965e0f6">put_config</a> ()</td></tr>
<tr class="memdesc:a5e3c84f0b6e1334a0fb7d3375965e0f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sauvegarde une nouvelle configuration des capteurs.  <br /></td></tr>
<tr class="memitem:a1e99eca46e51fb406153841d145748cc" id="r_a1e99eca46e51fb406153841d145748cc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1e99eca46e51fb406153841d145748cc">get_last</a> ()</td></tr>
<tr class="memdesc:a1e99eca46e51fb406153841d145748cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Récupère le dernier état du système de mesure.  <br /></td></tr>
<tr class="memitem:a431000dffb42d4b4cd2ce023fa0c4a1e" id="r_a431000dffb42d4b4cd2ce023fa0c4a1e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a431000dffb42d4b4cd2ce023fa0c4a1e">force_reload</a> ()</td></tr>
<tr class="memdesc:a431000dffb42d4b4cd2ce023fa0c4a1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Force le rechargement de la configuration au prochain cycle.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-var-members" class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a5de8cf19497f30c68ef48229ed037e2d" id="r_a5de8cf19497f30c68ef48229ed037e2d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5de8cf19497f30c68ef48229ed037e2d">BASE_DIR</a> = os.path.abspath(os.path.join(os.path.dirname(__file__), &quot;..&quot;))</td></tr>
<tr class="memitem:ad1e31aeef058a01b14bbfa0e216b43d6" id="r_ad1e31aeef058a01b14bbfa0e216b43d6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad1e31aeef058a01b14bbfa0e216b43d6">CONFIG_PATH</a> = os.path.join(<a class="el" href="#a5de8cf19497f30c68ef48229ed037e2d">BASE_DIR</a>, &quot;config_module&quot;, &quot;sensors.json&quot;)</td></tr>
<tr class="memitem:a9f76ef91507216717dc653f7b9479cbb" id="r_a9f76ef91507216717dc653f7b9479cbb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9f76ef91507216717dc653f7b9479cbb">STATE_PATH</a> = os.path.join(<a class="el" href="#a5de8cf19497f30c68ef48229ed037e2d">BASE_DIR</a>, &quot;state&quot;, &quot;last_state.json&quot;)</td></tr>
<tr class="memitem:ad2ed404946ddf35648333368e4392c28" id="r_ad2ed404946ddf35648333368e4392c28"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad2ed404946ddf35648333368e4392c28">WEBUI_DIR</a> = os.path.dirname(__file__)</td></tr>
<tr class="memitem:a7a4894526f1923df3ef5c7000ba4232c" id="r_a7a4894526f1923df3ef5c7000ba4232c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7a4894526f1923df3ef5c7000ba4232c">app</a> = Flask(__name__, static_folder=<a class="el" href="#ad2ed404946ddf35648333368e4392c28">WEBUI_DIR</a>, static_url_path='/static')</td></tr>
<tr class="memitem:a3eb0a70910bd6aab440ad5d5fc00f39d" id="r_a3eb0a70910bd6aab440ad5d5fc00f39d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3eb0a70910bd6aab440ad5d5fc00f39d">host</a></td></tr>
<tr class="memitem:ab660a159b0414ddafb0b1e81ae6a476b" id="r_ab660a159b0414ddafb0b1e81ae6a476b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab660a159b0414ddafb0b1e81ae6a476b">port</a></td></tr>
</table>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Documentation des fonctions</h2>
<a id="a431000dffb42d4b4cd2ce023fa0c4a1e" name="a431000dffb42d4b4cd2ce023fa0c4a1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a431000dffb42d4b4cd2ce023fa0c4a1e">&#9670;&#160;</a></span>force_reload()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">webui.webui_server.force_reload </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Force le rechargement de la configuration au prochain cycle. </p>
<p>Crée un fichier flag force_reload.flag avec horodatage pour déclencher le rechargement de configuration par le processus principal lors du prochain cycle de mesure.</p>
<dl class="section return"><dt>Renvoie</dt><dd>Confirmation de demande ou message d'erreur avec code HTTP. </dd></dl>

</div>
</div>
<a id="a4c0c0ae9a45c748c0089996cf34a199e" name="a4c0c0ae9a45c748c0089996cf34a199e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c0c0ae9a45c748c0089996cf34a199e">&#9670;&#160;</a></span>get_config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">webui.webui_server.get_config </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Récupère la configuration actuelle des capteurs. </p>
<p>Lecture du fichier sensors.json et retour des données de configuration en format JSON. Gère les erreurs de lecture et affiche des informations de débogage.</p>
<dl class="section return"><dt>Renvoie</dt><dd>Configuration JSON ou message d'erreur avec code HTTP. </dd></dl>

</div>
</div>
<a id="a1e99eca46e51fb406153841d145748cc" name="a1e99eca46e51fb406153841d145748cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e99eca46e51fb406153841d145748cc">&#9670;&#160;</a></span>get_last()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">webui.webui_server.get_last </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Récupère le dernier état du système de mesure. </p>
<p>Lecture du fichier last_state.json contenant les dernières mesures, températures et statuts. Gère le cas où le fichier n'existe pas encore et retourne un état par défaut.</p>
<dl class="section return"><dt>Renvoie</dt><dd>État JSON du système ou structure par défaut si fichier absent. </dd></dl>

</div>
</div>
<a id="a5e3c84f0b6e1334a0fb7d3375965e0f6" name="a5e3c84f0b6e1334a0fb7d3375965e0f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e3c84f0b6e1334a0fb7d3375965e0f6">&#9670;&#160;</a></span>put_config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">webui.webui_server.put_config </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sauvegarde une nouvelle configuration des capteurs. </p>
<p>Reçoit des données JSON, valide le contenu et sauvegarde dans sensors.json avec sauvegarde atomique via fichier temporaire. Affiche un résumé des changements principaux.</p>
<dl class="section return"><dt>Renvoie</dt><dd>Statut de sauvegarde ou message d'erreur avec code HTTP. </dd></dl>

</div>
</div>
<a id="ab49b8a0bc3425c50079480de48990dcc" name="ab49b8a0bc3425c50079480de48990dcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab49b8a0bc3425c50079480de48990dcc">&#9670;&#160;</a></span>serve_index()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">webui.webui_server.serve_index </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sert la page principale de l'interface web. </p>
<p>Route racine qui retourne le fichier index.html depuis le répertoire webui pour affichage de l'interface utilisateur.</p>
<dl class="section return"><dt>Renvoie</dt><dd>Fichier HTML de l'interface principale. </dd></dl>

</div>
</div>
<a name="doc-var-members" id="doc-var-members"></a><h2 id="header-doc-var-members" class="groupheader">Documentation des variables</h2>
<a id="a7a4894526f1923df3ef5c7000ba4232c" name="a7a4894526f1923df3ef5c7000ba4232c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a4894526f1923df3ef5c7000ba4232c">&#9670;&#160;</a></span>app</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">webui.webui_server.app = Flask(__name__, static_folder=<a class="el" href="#ad2ed404946ddf35648333368e4392c28">WEBUI_DIR</a>, static_url_path='/static')</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5de8cf19497f30c68ef48229ed037e2d" name="a5de8cf19497f30c68ef48229ed037e2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5de8cf19497f30c68ef48229ed037e2d">&#9670;&#160;</a></span>BASE_DIR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">webui.webui_server.BASE_DIR = os.path.abspath(os.path.join(os.path.dirname(__file__), &quot;..&quot;))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad1e31aeef058a01b14bbfa0e216b43d6" name="ad1e31aeef058a01b14bbfa0e216b43d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1e31aeef058a01b14bbfa0e216b43d6">&#9670;&#160;</a></span>CONFIG_PATH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">webui.webui_server.CONFIG_PATH = os.path.join(<a class="el" href="#a5de8cf19497f30c68ef48229ed037e2d">BASE_DIR</a>, &quot;config_module&quot;, &quot;sensors.json&quot;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3eb0a70910bd6aab440ad5d5fc00f39d" name="a3eb0a70910bd6aab440ad5d5fc00f39d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3eb0a70910bd6aab440ad5d5fc00f39d">&#9670;&#160;</a></span>host</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">webui.webui_server.host</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab660a159b0414ddafb0b1e81ae6a476b" name="ab660a159b0414ddafb0b1e81ae6a476b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab660a159b0414ddafb0b1e81ae6a476b">&#9670;&#160;</a></span>port</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">webui.webui_server.port</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9f76ef91507216717dc653f7b9479cbb" name="a9f76ef91507216717dc653f7b9479cbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f76ef91507216717dc653f7b9479cbb">&#9670;&#160;</a></span>STATE_PATH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">webui.webui_server.STATE_PATH = os.path.join(<a class="el" href="#a5de8cf19497f30c68ef48229ed037e2d">BASE_DIR</a>, &quot;state&quot;, &quot;last_state.json&quot;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad2ed404946ddf35648333368e4392c28" name="ad2ed404946ddf35648333368e4392c28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2ed404946ddf35648333368e4392c28">&#9670;&#160;</a></span>WEBUI_DIR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">webui.webui_server.WEBUI_DIR = os.path.dirname(__file__)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="namespacewebui.html">webui</a></li><li class="navelem"><a href="namespacewebui_1_1webui__server.html">webui_server</a></li>
    <li class="footer">Généré par <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
